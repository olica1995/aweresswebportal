<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mr. Blessed Music Player</title>
<style>
body { margin:0; font-family:"Roboto",sans-serif; background:#000; color:white; padding-bottom:200px; }
.player { position:fixed; bottom:0; left:50%; transform:translateX(-50%); width:100%; max-width:500px; background:#111; border-radius:20px 20px 0 0; padding:20px; box-shadow:0 -6px 25px rgba(0,0,0,0.7); text-align:center; }
.album-art { width:100%; max-width:180px; border-radius:15px; margin:0 auto 12px; box-shadow:0 6px 20px rgba(0,0,0,0.5); transition: transform 0.3s; }
.album-art.playing { transform: rotate(5deg); }
h2 { margin:5px 0; font-size:20px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }
h3 { margin:0 0 12px 0; font-weight:normal; font-size:14px; color:#bbb; }
.progress-container { display:flex; align-items:center; gap:8px; margin:8px 0 16px; justify-content:space-between; }
.progress-container span { font-size:12px; color:#ccc; min-width:35px; }
#progress { flex:1; accent-color:magenta; cursor:pointer; height:6px; border-radius:3px; }
.controls { display:flex; justify-content:center; gap:20px; margin:10px 0 16px; }
.controls button { background:#000; border:none; border-radius:50%; padding:16px; font-size:20px; color:white; cursor:pointer; box-shadow:0 6px 15px rgba(0,0,0,0.5); transition:0.2s ease, transform 0.2s; }
.controls button:hover { background:#333; transform:scale(1.15); }
.volume-control { margin-top:8px; }
.volume-control input { width:100%; accent-color:magenta; height:6px; border-radius:3px; cursor:pointer; }
#download-btn { display:inline-block; margin-top:10px; padding:10px 20px; background:magenta; color:white; border-radius:25px; text-decoration:none; font-size:14px; font-weight:bold; transition:0.2s ease, transform 0.2s; }
#download-btn:hover { background:#ff33cc; transform:scale(1.05); }
</style>
</head>
<body>

<div class="player">
  <img id="album-art" class="album-art" src="albums/default.jpg" alt="Album Art">
  <h2 id="song-title">Song Title</h2>
  <h3 id="song-artist">Mr. Blessed</h3>

  <audio id="audio-player"></audio>

  <div class="progress-container">
    <span id="current-time">0:00</span>
    <input type="range" id="progress" value="0" min="0" max="100">
    <span id="duration">0:00</span>
  </div>

  <div class="controls">
    <button onclick="prevSong()">‚èÆ</button>
    <button onclick="togglePlay()" id="play-pause">‚ñ∂Ô∏è</button>
    <button onclick="nextSong()">‚è≠</button>
    <button onclick="toggleRepeat()" id="repeat-btn">üîÅ</button>
  </div>

  <div class="volume-control">
    <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
  </div>

  <a id="download-btn" href="#" download>‚¨á Download</a>
</div>

<script>
const songs = [
  { title:"Akello", artist:"Mr. Blessed Music", url:"Akello.mp3", art:"blessed.jpg" },
  { title:"Pe Abii Yee", artist:"Mr. Blessed Music", url:"Pe Abii Yee Mr. Blessed Music.mp3", art:"blessed.jpg" },
  { title:"Kamyel Mit", artist:"Mr. Blessed Music", url:"Kamyel mit.mp3", art:"blessed.jpg" },
  { title:"Give Me Your Money", artist:"Mr. Blessed Music", url:"Give me your money.mp3", art:"blessed.jpg" },
  { title:"Sweet Mutima", artist:"Mr. Blessed Music", url:"Sweet Mutima.mp3", art:"blessed.jpg" }
];

let currentSongIndex=0;
let repeatMode="none"; // none, one, all
const audio=document.getElementById("audio-player");
const titleEl=document.getElementById("song-title");
const artistEl=document.getElementById("song-artist");
const artEl=document.getElementById("album-art");
const playPauseBtn=document.getElementById("play-pause");
const volumeSlider=document.getElementById("volume");
const progress=document.getElementById("progress");
const currentTimeEl=document.getElementById("current-time");
const durationEl=document.getElementById("duration");
const downloadBtn=document.getElementById("download-btn");
const repeatBtn=document.getElementById("repeat-btn");

// --- Load Song ---
function loadSong(index, autoplay=false){
  const song=songs[index];
  titleEl.textContent=song.title;
  artistEl.textContent=song.artist;
  artEl.src=song.art || "albums/default.jpg";
  artEl.classList.remove("playing");
  audio.src=song.url;
  playPauseBtn.textContent="‚ñ∂Ô∏è";
  if(autoplay){ audio.play(); playPauseBtn.textContent="‚è∏"; artEl.classList.add("playing"); }
}

// --- Play/Pause ---
function togglePlay(){
  if(audio.paused){ audio.play(); playPauseBtn.textContent="‚è∏"; artEl.classList.add("playing"); }
  else{ audio.pause(); playPauseBtn.textContent="‚ñ∂Ô∏è"; artEl.classList.remove("playing"); }
}

// --- Next/Previous ---
function nextSong(){
  if(repeatMode==="one"){ audio.currentTime=0; audio.play(); return; }
  currentSongIndex=(currentSongIndex+1)%songs.length;
  loadSong(currentSongIndex,true);
}

function prevSong(){
  currentSongIndex=(currentSongIndex-1+songs.length)%songs.length;
  loadSong(currentSongIndex,true);
}

// --- Repeat ---
function toggleRepeat(){
  if(repeatMode==="none"){ repeatMode="one"; repeatBtn.style.color="magenta"; repeatBtn.textContent="üîÇ"; }
  else if(repeatMode==="one"){ repeatMode="all"; repeatBtn.style.color="magenta"; repeatBtn.textContent="üîÅ"; }
  else{ repeatMode="none"; repeatBtn.style.color="white"; repeatBtn.textContent="üîÅ"; }
}

// --- Progress & Volume ---
audio.addEventListener("timeupdate",()=>{
  if(!isNaN(audio.duration)){
    progress.value=(audio.currentTime/audio.duration)*100;
    currentTimeEl.textContent=formatTime(audio.currentTime);
    durationEl.textContent=formatTime(audio.duration);
  }
});
progress.addEventListener("input",()=>{ if(!isNaN(audio.duration)) audio.currentTime=(progress.value/100)*audio.duration; });
volumeSlider.addEventListener("input",e=>{ audio.volume=e.target.value; });

// --- Ended Behavior ---
audio.addEventListener("ended",()=>{
  if(repeatMode==="one"){ audio.currentTime=0; audio.play(); }
  else if(repeatMode==="all" && currentSongIndex===songs.length-1){ currentSongIndex=0; loadSong(currentSongIndex,true); }
  else{ nextSong(); }
});

// --- Format Time ---
function formatTime(s){ const m=Math.floor(s/60); const sec=Math.floor(s%60); return `${m}:${sec<10?"0":""}${sec}`; }

// --- Simple Download ---
downloadBtn.onclick = e => {
  e.preventDefault();
  const song = songs[currentSongIndex];
  const link = document.createElement("a");
  link.href = song.url;
  link.download = song.title + ".mp3";
  link.click();
};

// --- Initial Load ---
loadSong(currentSongIndex,false);
</script>

</body>
</html>
